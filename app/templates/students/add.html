{% extends "base.html" %}

{% block title %}Add Student - Hostel Manager{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Add New Student</h1>
</div>

{% if error %}
    <div class="alert alert-error">{{ error }}</div>
{% endif %}

{% if success %}
    <div class="alert alert-success">
        {{ success }}
        <br><br>
        <a href="{{ url_for('students.add_student') }}" class="btn btn-primary">Add Another Student</a>
        <a href="{{ url_for('students.list_students') }}" class="btn btn-secondary">View All Students</a>
    </div>
{% else %}
    <div class="card">
        <form method="POST" class="student-form">
            <h3>Personal Information</h3>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="full_name">Full Name *</label>
                    <input type="text" id="full_name" name="full_name" required>
                </div>

                <div class="form-group">
                    <label for="date_of_birth">Date of Birth *</label>
                    <input type="date" id="date_of_birth" name="date_of_birth" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="gender">Gender *</label>
                    <select id="gender" name="gender" required>
                        <option value="">Select Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="aadhaar_number">Aadhaar Number (12 digits) *</label>
                    <input type="text" id="aadhaar_number" name="aadhaar_number" required 
                           placeholder="Enter 12-digit Aadhaar" maxlength="12" pattern="[0-9]{12}">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="mobile_number">Mobile Number (10 digits) *</label>
                    <input type="text" id="mobile_number" name="mobile_number" required 
                           placeholder="Enter 10-digit mobile number" maxlength="10" pattern="[0-9]{10}">
                </div>

                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" name="email" required>
                </div>
            </div>

            <div class="form-group">
                <label for="parent_names">Parent Names *</label>
                <input type="text" id="parent_names" name="parent_names" required 
                       placeholder="Enter father and mother names">
            </div>

            <div class="form-group">
                <label for="emergency_contact">Emergency Contact *</label>
                <input type="text" id="emergency_contact" name="emergency_contact" required 
                       placeholder="Name and phone number">
            </div>

            <div class="form-group">
                <label for="full_address">Full Address *</label>
                <textarea id="full_address" name="full_address" required></textarea>
            </div>

            <h3 style="margin-top: 30px;">College & Registration Details</h3>

            <div class="form-row">
                <div class="form-group">
                    <label for="college_name">College Name *</label>
                    <input type="text" id="college_name" name="college_name" required>
                </div>

                <div class="form-group">
                    <label for="admission_number">Admission Number *</label>
                    <input type="text" id="admission_number" name="admission_number" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="registration_date">Registration Date *</label>
                    <input type="date" id="registration_date" name="registration_date" required>
                </div>

                <div class="form-group">
                    <label for="session_expiration_date">Session Expiration Date *</label>
                    <input type="date" id="session_expiration_date" name="session_expiration_date" required>
                </div>
            </div>

            <h3 style="margin-top: 30px;">Fee & Payment Details</h3>

            <div class="form-row">
                <div class="form-group">
                    <label for="total_fee">Total Fee (â‚¹) *</label>
                    <input type="number" id="total_fee" name="total_fee" required 
                           step="0.01" min="0">
                </div>

                <div class="form-group">
                    <label for="installment_count">Number of Installments *</label>
                    <select id="installment_count" name="installment_count" required>
                        <option value="1">1 Payment</option>
                        <option value="2">2 Installments</option>
                        <option value="3">3 Installments</option>
                        <option value="4">4 Installments</option>
                        <option value="6">6 Installments</option>
                        <option value="12">12 Installments</option>
                    </select>
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary btn-lg">Add Student</button>
                <a href="{{ url_for('students.list_students') }}" class="btn btn-secondary btn-lg">Cancel</a>
            </div>
        </form>
    </div>
{% endif %}

<style>
.student-form h3 {
    margin-top: 0;
    margin-bottom: 20px;
    color: var(--primary-color);
    border-bottom: 2px solid var(--border-color);
    padding-bottom: 10px;
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

@media (max-width: 768px) {
    .form-row {
        grid-template-columns: 1fr;
    }
}

.form-actions {
    display: flex;
    gap: 10px;
    margin-top: 30px;
}

.btn-lg {
    padding: 12px 30px;
    font-size: 16px;
}
</style>
{% endblock %}
